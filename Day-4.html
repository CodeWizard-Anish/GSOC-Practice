02<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculator</title>
    
  </head>
  <body>
    <style>
      body {
        background-image: url(hill&stars.jpg);
        background-repeat: no-repeat;
        background-size: cover;
        overflow: hidden;
      }
      div {
        text-align: center;
       
      }
      h1 {
        display: inline-block;
        background-color: black;
        padding: 10px;
        font-size: 50px;
        color: aliceblue;
        border: 2px solid white;
        border-radius: 25px;
        mix-blend-mode:screen;

      }
      button {
        border: 1.5px solid white;
        border-radius: 50%;
        height: 10vh;
        width: 10vh;
        background-color: rgb(8, 11, 40);
        color: aliceblue;
        font-size: 20px;
        
      }
      button:hover {
        background-color: darkgray;
      }
      
      .Calculator {
        border: 2px solid whitesmoke;
        border-radius: 8px;
        width: fit-content;
      }
      .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center; 
        height: 70vh; 
      }
      .write{
        width: 20vw;
        height: 5vh;
        font-size: 2rem;
        mix-blend-mode: screen;
        background-color: black;
        color: white;
        border-radius: 8px;
        border: 1px solid;
      }
      .write::placeholder{
        color: beige;
        opacity: 0.5;
      }
    </style>
    <div><h1>CALCULATOR</h1></div>
    <div class="container">  
      <div class="Calculator">
        <div class="input">
          <input type="text" class="write" placeholder="Calculate!!">
        </div>
        <div class="row1" style="display: inline-block">
          <button class="button">AC</button>
          <button class="button">%</button>
          <button class="button">C</i></button>
          <button class="button">/</button>
        </div>
        <br />
        <div class="row2" style="display: inline-block">
          <button class="button">7</span></button>
          <button class="button">8</span></button>
          <button class="button">9</span></button>
          <button class="button">*</span></button>
        </div>
        <br />
        <div class="row3" style="display: inline-block">
          <button class="button">4</button>
          <button class="button">5</button>
          <button class="button">6</button>
          <button class="button">-</button>
        </div>
        <br />
        <div class="row3" style="display: inline-block">
          <button class="button">1</button>
          <button class="button">2</button>
          <button class="button">3</button>
          <button class="button">+</button>
        </div>
        <br />
        <div class="row3" style="display: inline-block">
          <button class="button">00</button>
          <button class="button">0</button>
          <button class="button">.</button>
          <button class="button">=</button>
        </div>
      </div>
    </div>
    <script>
      let string ="";
      let buttons = document.querySelectorAll('.button');
      Array.from(buttons).forEach((button)=>{
        button.addEventListener('click', (e)=>{
          let value = e.target.innerHTML;
          if(e.target.innerHTML == '='){
            string = eval(string);
            document.querySelector('input').value =string;
          }
          else if(e.target.innerHTML == 'AC'){
            string = "";
            document.querySelector('input').value =string;
          }
          else if (e.target.innerHTML === 'C') {
            string = string.slice(0, -1); // Remove last character (Backspace)
            document.querySelector('input').value = string;
        } 
        else if (e.target.innerHTML === '%') {
            string = (parseFloat(string) / 100).toString(); // Convert to percentage
            document.querySelector('input').value = string;
        }
        else if (e.target.innerHTML === '.') {
            // Prevent multiple dots in the same number
            let parts = string.split(/[\+\-\*\/]/); // Split by operators
            let lastNumber = parts[parts.length - 1];

            if (lastNumber.includes('.')) return; // If the last number already has a dot, ignore input

            string += value; // Append dot if valid
            document.querySelector('input').value = string;
        } 
        else{
          console.log(e.target)
          string = string + e.target.innerHTML;
          document.querySelector('input').value =string;
          }
          
        })
      })
    </script>
  </body>
</html>
